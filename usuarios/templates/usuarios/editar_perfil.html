{% extends "base.html" %} 
{% load static%}

{% block contenido %}
<section class="page-section bg-light" id="editar-perfil">
    <div class="container">
        <div class="text-center">
            <h2 class="section-heading text-uppercase">Editar Perfil</h2>
            <h3 class="section-subheading text-muted">Actualiza tu información personal</h3>
        </div>
        
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <form method="POST" enctype="multipart/form-data">
                    {% csrf_token %}

    <!-- Avatar -->
    <div class="text-center mb-4">
        {% if formulario.instance.infoextra.avatar %}
        <img src="{{ formulario.instance.infoextra.avatar.url }}" class="rounded-circle mb-3" width="120" height="120">
        {% else %}
        <div class="mx-auto mb-3 bg-secondary rounded-circle d-flex align-items-center justify-content-center" style="width: 120px; height: 120px;">
            <i class="fas fa-user fa-3x text-light"></i>
        </div>
        {% endif %}
    </div>

    <!-- Campos del formulario -->
    <div class="row">
        <div class="col-md-6 mb-4">
            <div class="form-group">
                <label class="form-label">Nombre</label>
                {{ formulario.first_name }}
                {% if formulario.first_name.errors %}
                <div class="text-danger small">
                    {{ formulario.first_name.errors }}
                </div>
                {% endif %}
            </div>
        </div>
        <div class="col-md-6 mb-4">
            <div class="form-group">
                <label class="form-label">Apellido</label>
                {{ formulario.last_name }}
                {% if formulario.last_name.errors %}
                <div class="text-danger small">
                    {{ formulario.last_name.errors }}
                </div>
                {% endif %}
            </div>
        </div>
    </div>
    
    <div class="row">
        <div class="col-md-6 mb-4">
            <div class="form-group">
                <label class="form-label">Correo electrónico</label>
                {{ formulario.email }}
                {% if formulario.email.errors %}
                <div class="text-danger small">
                    {{ formulario.email.errors }}
                </div>
                {% endif %}
            </div>
        </div>
        <div class="col-md-6 mb-4">
            <div class="form-group">
                <label class="form-label">Imagen de perfil</label>
                {{ formulario.avatar }}
                {% if formulario.avatar.errors %}
                <div class="text-danger small">
                    {{ formulario.avatar.errors }}
                </div>
                {% endif %}
            </div>
        </div>
    </div>
    
    <div class="text-center mt-4">
        <button class="btn btn-primary btn-xl text-uppercase" type="submit">
            <i class="fas fa-save me-2"></i>Actualizar
        </button>
        <a href="{% url 'inicio' %}" class="btn btn-secondary btn-xl text-uppercase ms-3">
            <i class="fas fa-times me-2"></i>Cancelar
        </a>
    </div>
</form>
</div>
</div>
</div>
</section>

<style>
    /* Estilos para campo de imagen */
    #id_avatar {
        display: block;
        width: 100%;
        padding: 0.375rem 0.75rem;
        font-size: 1rem;
        line-height: 1.5;
        color: #495057;
        background-color: #fff;
        background-clip: padding-box;
        border: 1px solid #ced4da;
        border-radius: 0.25rem;
        transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
    }
    
    /* campos de formulario */
    .form-group input, .form-group select, .form-group textarea {
        width: 100%;
        padding: 0.375rem 0.75rem;
        border: 1px solid #ced4da;
        border-radius: 0.25rem;
    }
</style>

</form>

{%endblock contenido%}